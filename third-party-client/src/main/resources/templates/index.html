<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<link href="/css/common.css" rel="stylesheet" />
<script src="/js/common.js"></script>

<div class="p-3">
    <div>Hello, <span th:text="${auth != null ? 'Authorized' : 'Anonymous'}"></span></div>

    <a th:if="${auth == null}" class="btn btn-primary m-t-10" th:href="${authLink}">
        Sign in with <b>External service (using OAuth2)</b>
    </a>
    <hr />
    <a onclick="getProfile()" class="btn btn-success m-t-10">Receive profile data</a>
    <a onclick="getOrders()" class="btn btn-success m-t-10">Receive orders list</a>
</div>

<pre><code id=token></code></pre>

<pre style="display: none"><code id=data></code></pre>

<script th:inline="javascript">
    $(function () {
        var tokenData = [[${auth}]];
        if(tokenData != null) {
            $('#token').html(library.json.prettyPrint(tokenData));
        } else {
            $('#token').parent().hide();
        }
    });
</script>
